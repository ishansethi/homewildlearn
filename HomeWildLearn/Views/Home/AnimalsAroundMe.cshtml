
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Wildlife Around Me";
}

@* This is for the mapbox map. *@
<script src="https://api.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.css" rel="stylesheet" />
@*This is used for the Geocoding Mapbox API*@
<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.2.0/mapbox-gl-geocoder.min.js'></script>
<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.2.0/mapbox-gl-geocoder.css' type='text/css' />

<h2>AnimalsAroundMe</h2>

<style>
    #marker {
        background-image: url('https://img.freepik.com/free-vector/cute-koala-face-icon-gray-background_24911-2553.jpg');
        background-size: cover;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
    }

    .mapboxgl-popup {
        margin-top: -10px;
        max-width: 200px;
        animation: fadein 2.9s;
    }

    .mapboxgl-popup-close-button {
       display:none;
    }

    .mapboxgl-popup-content {
        border-radius: 10px;
        box-shadow: 0px 2px 4px 2px rgba(0,0,0,.1);
        border: 1px solid #929292;
    }

    /* Hide the old tip */
    .mapboxgl-popup-tip {
        display: none;
    }

    .mapboxgl-popup-content:before {
        content: '';
        position: absolute;
        /* I've found 9px looks better than 10px */
        top: -webkit-calc(100% - 9px);
        top: calc(100% - 9px);
        left: calc(50% - 10px);
        height: 20px;
        width: 20px;
        background: white;
        transform: rotate(45deg);
        border-bottom: inherit;
        border-right: inherit;
        /* The shadow is translated down a bit so it doesn't show inside the pop-up */
        box-shadow: 4px 4px 4px -1px rgba(0, 0, 0, 0.1);
        z-index: 4;
    }
</style>

<div id="map" style="height:300px"></div>
<table>
    <tr class="coordinates">
        <td class="description" hidden>
            This is where the koala was last seen
        </td>
        <td class="latitude" hidden>
            -37.8136
        </td>
        <td class="longitude" hidden>
            144.9631
        </td>
    </tr>
    <tr class="coordinates">
        <td class="description" hidden>
            This is where the koala was last seen
        </td>
        <td class="latitude" hidden>
            -47.8136
        </td>
        <td class="longitude" hidden>
            144.9631
        </td>
    </tr>
</table>

@section Scripts {
    @Scripts.Render("~/bundles/mapbox")
}